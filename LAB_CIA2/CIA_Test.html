<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>E-Shop Explorer</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" />
    <style>
        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }
        
        input:focus, select:focus {
            outline: 2px solid #3b82f6;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.5);
        }
        
        button:hover {
            transform: translateY(-1px);
        }
        
        button:active {
            transform: scale(0.98);
        }
    </style>
</head>
<body class="bg-gray-100">
    <header class="bg-orange-500 text-white shadow-lg sticky top-0 z-50">
        <nav class="container mx-auto px-6 py-3 flex justify-between items-center">
            <div class="flex items-center space-x-4">
                <i class="fas fa-shopping-cart text-2xl"></i>
                <h1 class="text-xl font-bold">E-Shop Explorer</h1>
            </div>
            <div class="hidden md:flex space-x-8">
                <a href="#" class="hover:text-blue-300  transition">Home</a>
                <a href="#products" class="hover:text-blue-300 transition">Products</a>
                <a href="#about" class="hover:text-blue-300 transition">About</a>
                <a href="#contact" class="hover:text-blue-300 transition">Contact</a>
            </div>
        </nav>
    </header>

    <div id="welcomeBack" class="container mx-auto px-6 py-4 text-center hidden">
        <!-- Welcome message will appear here -->
    </div>

    <section class="relative">
        <div class="bg-[url('3214-0-792-1736-8416-6312-1132.png')] bg-cover bg-center h-96 flex items-center">
            <div class="absolute inset-0 bg-black opacity-50"></div>
            <div class="container mx-auto px-6 relative z-10">
                <h2 class="text-4xl font-bold text-white mb-4">Discover Amazing Products</h2>
                <p class="text-xl text-blue-200 mb-8">Shop the latest trends at unbeatable prices</p>
                <a href="#products" class="bg-orange-500 text-white px-6 py-3 rounded-lg hover:bg-orange-600 transition inline-block">Explore Products</a>
            </div>
        </div>
    </section>

    <section id="products" class="container mx-auto px-6 py-12">
        <h2 class="text-3xl font-bold text-center mb-8">Featured Products</h2>
        
        <div class="mb-6 flex flex-col md:flex-row justify-between gap-4">
            <div class="relative flex-grow">
                <input type="text" id="searchInput" placeholder="Search products..." class="w-full px-4 py-2 border rounded-lg pl-10 focus:ring-2 focus:ring-blue-500">
                <i class="fas fa-search absolute left-3 top-3 text-gray-400"></i>
            </div>
            
            <select id="sortSelect" class="px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500">
                <option value="">Sort by</option>
                <option value="price-low">Price: Low to High</option>
                <option value="price-high">Price: High to Low</option>
                <option value="rating-high">Rating: High to Low</option>
            </select>
        </div>
        
        <div id="productsGrid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6"></div>
    </section>

    <section id="about" class="bg-gray-100 py-12">
        <div class="container mx-auto px-6">
            <h2 class="text-3xl font-bold text-center mb-12">About Our Store</h2>
            
            <div class="grid md:grid-cols-2 gap-8 mb-12">
                <div class="bg-white p-4 rounded-lg shadow-md">
                    <h3 class="text-xl font-bold mb-4">Store Introduction</h3>
                    <video controls class="w-full rounded" >
                        <source src="Set1 Video.mp4" type="video/mp4">
                        <track kind="subtitles" src="sub.vtt" srclang="en" label="English">
                        Your browser does not support the video tag.
                    </video>
                </div>
                <div class="bg-white p-4 rounded-lg shadow-md">
                    <h3 class="text-xl font-bold mb-4">Our Mission</h3>
                    <p class="text-gray-700">At E-Shop Explorer, we aim to provide a seamless shopping experience with a wide range of products at competitive prices. Our mission is to make online shopping easy and enjoyable for everyone.</p>
                <div class="bg-white p-4 rounded-lg shadow-md">
                    <h3 class="text-xl font-bold mb-4">Featured Product</h3>
                    <audio controls class="w-full mt-2">
                        <source src="Set1 Audio.mp3" type="audio/mpeg">
                        Your browser does not support the audio element.
                    </audio>
                    <p class="text-sm text-gray-500 mt-2">Listen to our featured product of the week</p>
                </div>
            </div>
        </div>
    </section>
    <section id="contact" class="container mx-auto px-6 py-12">
        <h2 class="text-3xl font-bold text-center mb-8">Product Inquiry</h2>
        <div class="max-w-2xl mx-auto bg-white p-8 rounded-lg shadow-md">
            <form id="inquiryForm" class="space-y-6">
                <div>
                    <label for="name" class="block text-sm font-medium text-gray-700 mb-1">Your Name</label>
                    <input type="text" id="name" name="name" class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500" required>
                    <p id="nameError" class="text-red-500 text-sm mt-1 hidden">Please enter your name</p>
                </div>
                
                <div>
                    <label for="email" class="block text-sm font-medium text-gray-700 mb-1">Email Address</label>
                    <input type="email" id="email" name="email" class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500" required>
                    <p id="emailError" class="text-red-500 text-sm mt-1 hidden">Please enter a valid email</p>
                </div>
                
                <div>
                    <label for="product" class="block text-sm font-medium text-gray-700 mb-1">Product You're Interested In</label>
                    <input type="text" id="product" name="product" class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500" required>
                    <p id="productError" class="text-red-500 text-sm mt-1 hidden">Please enter a product</p>
                </div>
                
                <div>
                    <label for="message" class="block text-sm font-medium text-gray-700 mb-1">Message (Optional)</label>
                    <textarea id="message" name="message" rows="3" class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"></textarea>
                </div>
                
                <button type="submit" class="w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 transition focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2">
                    Submit Inquiry
                </button>
            </form>
            
            <div id="formSuccess" class="mt-4 p-4 bg-green-100 text-green-700 rounded hidden">
                Thank you for your inquiry! We'll contact you about the product soon.
            </div>
        </div>
    </section>
    <section class="bg-gray-100 py-12">
        <div class="container mx-auto px-6">
            <h2 class="text-3xl font-bold text-center mb-8">Your Location</h2>
            <div class="bg-white rounded-lg shadow-md p-6 max-w-2xl mx-auto text-center">
                <div id="locationInfo" class="text-gray-600">
                    <p>Click the "Detect Location" button in the header to share your location.</p>
                    <div class="text-center mt-6">
                        <button id="geoBtn" class="bg-white text-blue-600 px-4 py-2 rounded hover:bg-blue-100 transition">
                            <i class="fas fa-location-arrow mr-2"></i>Detect Location
                        </button>
                    </div>
                    <p class="mt-2 text-sm text-gray-500">We use your location to provide better product recommendations and shipping estimates.</p>
                </div>
            </div>
        </div>
    </section>
    <footer class="bg-gray-800 text-white py-8">
        <div class="container mx-auto px-6">
            <div class="flex flex-col md:flex-row justify-between items-center">
                <div class="mb-4 md:mb-0">
                    <h3 class="text-xl font-bold mb-2">E-Shop Explorer</h3>
                    <p class="text-gray-400">Your one-stop shop for amazing products</p>
                </div>
                
                <div class="flex space-x-6">
                    <a href="#" class="text-gray-400 hover:text-white transition"><i class="fab fa-facebook-f"></i></a>
                    <a href="#" class="text-gray-400 hover:text-white transition"><i class="fab fa-twitter"></i></a>
                    <a href="#" class="text-gray-400 hover:text-white transition"><i class="fab fa-instagram"></i></a>
                    <a href="#" class="text-gray-400 hover:text-white transition"><i class="fab fa-pinterest"></i></a>
                </div>
            </div>
            
            <div class="border-t border-gray-700 mt-8 pt-8 text-center text-gray-400 text-sm">
                <p>&copy; 2025 E-Shop Explorer. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        let products = [];
        const welcomeBackDiv = document.getElementById('welcomeBack');
        const productsGrid = document.getElementById('productsGrid');
        const inquiryForm = document.getElementById('inquiryForm');
        const geoBtn = document.getElementById('geoBtn');
        const locationInfo = document.getElementById('locationInfo');
        
        async function fetchProducts() {
            try {
                const response = await fetch('https://fakestoreapi.com/products?limit=8');
                
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                
                products = await response.json();
                products = products.map(product => ({
                    ...product,
                    rating: (Math.random() * 2 + 3).toFixed(1) // Random 3-5 star rating
                }));
                filterProducts();
                
            } catch (error) {
                console.error("Error fetching products:", error);
                productsGrid.innerHTML = '<p class="col-span-full text-center text-red-500">Failed to load products. Please try again later.</p>';
            }
        }
        
        function displayProducts(productsToDisplay) {
            productsGrid.innerHTML = '';
            
            if (productsToDisplay.length === 0) {
                productsGrid.innerHTML = '<p class="col-span-full text-center text-gray-500">No products found matching your search.</p>';
                return;
            }
            
            productsToDisplay.forEach(product => {
                const productItem = document.createElement('div');
                productItem.className = 'product-card bg-white rounded-lg shadow-md overflow-hidden transition duration-300';
                productItem.innerHTML = `
                    <div class="p-4">
                        <img src="${product.image}" alt="${product.title}" class="w-full h-48 object-contain mb-4">
                        <h3 class="text-lg font-semibold mb-2 truncate">${product.title}</h3>
                        <div class="flex justify-between items-center">
                            <p class="text-blue-600 font-bold">$${product.price}</p>
                            <span class="text-yellow-500">
                                ${'â˜…'.repeat(Math.floor(product.rating))}${'â˜†'.repeat(5 - Math.floor(product.rating))}
                                ${product.rating}
                            </span>
                        </div>
                        <p class="text-sm text-gray-500 mt-2">${product.category}</p>
                    </div>
                `;
                productsGrid.appendChild(productItem);
            });
        }
        
        function filterProducts() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            const sortValue = document.getElementById('sortSelect').value;
            
            let filtered = products.filter(product => 
                product.title.toLowerCase().includes(searchTerm) ||
                product.description.toLowerCase().includes(searchTerm) ||
                product.category.toLowerCase().includes(searchTerm)
            );
            
    
            switch(sortValue) {
                case 'price-low':
                    filtered.sort((a, b) => a.price - b.price);
                    break;
                case 'price-high':
                    filtered.sort((a, b) => b.price - a.price);
                    break;
                case 'rating-high':
                    filtered.sort((a, b) => parseFloat(b.rating) - parseFloat(a.rating));
                    break;
                default:
                    break;
            }
            
            displayProducts(filtered);
        }
        function handleFormSubmit(e) {
            e.preventDefault();
            
            const name = document.getElementById('name').value.trim();
            const email = document.getElementById('email').value.trim();
            const product = document.getElementById('product').value.trim();
            const message = document.getElementById('message').value.trim();
            
            let isValid = true;
            document.getElementById('nameError').classList.add('hidden');
            document.getElementById('emailError').classList.add('hidden');
            document.getElementById('productError').classList.add('hidden');
            

            if (name === '') {
                document.getElementById('nameError').classList.remove('hidden');
                isValid = false;
            }
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!emailRegex.test(email)) {
                document.getElementById('emailError').classList.remove('hidden');
                isValid = false;
            }
        
            if (product === '') {
                document.getElementById('productError').classList.remove('hidden');
                isValid = false;
            }
            
            if (isValid) {
        
                localStorage.setItem('eshopUserName', name);
                localStorage.setItem('eshopProductInterest', product);
                
    
                const formData = {
                    name: name,
                    email: email,
                    product: product,
                    message: message,
                    timestamp: new Date().toISOString()
                };
                
                console.log("Form Submission:", formData);
                
                document.getElementById('formSuccess').classList.remove('hidden');
                inquiryForm.reset();
                setTimeout(() => {
                    document.getElementById('formSuccess').classList.add('hidden');
                }, 5000);
            }
        }
        
        function getLocation() {
            if (navigator.geolocation) {
                locationInfo.innerHTML = '<p class="text-blue-600"><i class="fas fa-spinner fa-spin mr-2"></i>Detecting your location...</p>';
                
                navigator.geolocation.getCurrentPosition(
                    (position) => {
                        const { latitude, longitude } = position.coords;
                        locationInfo.innerHTML = `
                            <p><i class="fas fa-check-circle text-green-500 mr-2"></i>Location detected successfully!</p>
                            <div class="mt-4 space-y-2">
                                <p><strong>Latitude:</strong> ${latitude.toFixed(4)}</p>
                                <p><strong>Longitude:</strong> ${longitude.toFixed(4)}</p>
                                <p class="text-sm text-gray-500 mt-2">We'll use this to provide better shipping estimates.</p>
                            </div>
                        `;
                    },
                    (error) => {
                        console.error("Geolocation error:", error);
                        locationInfo.innerHTML = `
                            <p class="text-red-500"><i class="fas fa-exclamation-circle mr-2"></i>Unable to retrieve your location.</p>
                            <p class="text-sm text-gray-500 mt-2">Error: ${error.message}</p>
                        `;
                    }
                );
            } else {
                locationInfo.innerHTML = `
                    <p class="text-red-500"><i class="fas fa-exclamation-circle mr-2"></i>Geolocation is not supported by your browser.</p>
                `;
            }
        }
        
        function checkReturningUser() {
            const name = localStorage.getItem('eshopUserName');
            const product = localStorage.getItem('eshopProductInterest');
            const welcomeBackDiv = document.getElementById('welcomeBack');
            if (name && product) {
                welcomeBackDiv.innerHTML = `ðŸ‘‹ <span class="font-semibold">Welcome back, ${name}!</span> You were interested in <span class="font-semibold text-blue-600">${product}</span>.`;
                welcomeBackDiv.classList.remove('hidden');
            } else {
                welcomeBackDiv.classList.add('hidden');
            }
        }
        
        document.getElementById('searchInput').addEventListener('input', filterProducts);
        document.getElementById('sortSelect').addEventListener('change', filterProducts);
        inquiryForm.addEventListener('submit', handleFormSubmit);
        geoBtn.addEventListener('click', getLocation);
    
        document.addEventListener('DOMContentLoaded', function() {
            fetchProducts();
            checkReturningUser();
        });
    </script>
</body>
</html>